<div ng-include="template.topbar"></div>
<div class="container" id="main">
    <div class="col-xs-hidden col-md-3">
        <div ng-include="template.accountmenu"></div>
    </div>
    <div class="col-xs-12 col-md-9">

        <div class="row bill-summary-block">
            <h2 class="section-header section-header-billing">{{meters.name}}</h2>
            <div class="col-xs-12">
                <div class="hero-unit">
                    <ol>
                        <li>Load the json file called meters.json
                            This file is going to be generated by our admin/settings pages, and saved to the client's
                            machine.
                        </li>
                        <li>Compare the saved list of meters to what the account has, to see if any are removed or
                            added.
                        </li>
                        <li>(future) Load the settings file to see which columns are needed.</li>
                        <li>(future) Generate default group settings, in case there hasn't been a custom one.</li>
                        <li>(future) Drop-down menu at top of page to select which report to view.</li>
                        <li>(future) jquery sortable does not support nesting. Here is a solution:
                            http://dbushell.com/2012/06/17/nestable-jquery-plugin
                        </li>
                    </ol>
                </div>
                <hr>


                <ul class="detailreport" ng-repeat="account in meters.accounts">

                    <button ng-if="account.expanded" ng-click="account.expanded = false">-</button>
                    <button ng-if="!account.expanded" ng-click="account.expanded = true">+</button>

                    <li><i>Account: </i>{{account.name}}</li>

                    <div ng-if="account.expanded" ng-repeat-end="">
                        <ul ng-repeat="meter in account.meters">
                            <li><i>Meter: </i>{{meter.name}}</li>
                        </ul>
                        <ul ng-repeat="group in account.groups" ng-include="template.groupofmeters"></ul>
                    </div>

                </ul>


            </div>

